2025-02-10 22:38:08.987 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "FriendsDB" WITH (FORCE);
2025-02-10 22:38:09.103 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "FriendsDB";
2025-02-10 22:38:09.183 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Friends" (
    "ProfileId" integer NOT NULL,
    "FriendId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Friends" PRIMARY KEY ("ProfileId", "FriendId")
);
2025-02-10 22:38:09.313 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-10 22:38:09.314 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-10 22:38:09.315 +00:00 [INF] Hosting environment: Production
2025-02-10 22:38:09.316 +00:00 [INF] Content root path: /app
2025-02-10 22:38:10.768 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/index.html - null null
2025-02-10 22:38:10.845 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/index.html - 200 null text/html;charset=utf-8 78.2401ms
2025-02-10 22:38:10.885 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/index.js - null null
2025-02-10 22:38:10.894 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/index.js - 200 null application/javascript;charset=utf-8 8.9961ms
2025-02-10 22:38:10.930 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/swagger/v1/swagger.json - null null
2025-02-10 22:38:11.008 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.5779ms
2025-02-10 22:43:30.259 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "FriendsDB" WITH (FORCE);
2025-02-10 22:43:30.447 +00:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "FriendsDB";
2025-02-10 22:43:30.527 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Friends" (
    "ProfileId" integer NOT NULL,
    "FriendId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Friends" PRIMARY KEY ("ProfileId", "FriendId")
);
2025-02-10 22:43:30.682 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-10 22:43:30.682 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-10 22:43:30.683 +00:00 [INF] Hosting environment: Production
2025-02-10 22:43:30.683 +00:00 [INF] Content root path: /app
2025-02-10 22:43:34.600 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/index.html - null null
2025-02-10 22:43:34.687 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/index.html - 200 null text/html;charset=utf-8 87.9342ms
2025-02-10 22:43:34.739 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/index.js - null null
2025-02-10 22:43:34.749 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/index.js - 200 null application/javascript;charset=utf-8 9.8593ms
2025-02-10 22:43:34.919 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/swagger/v1/swagger.json - null null
2025-02-10 22:43:35.003 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.9167ms
2025-02-10 22:43:48.434 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/swagger/v1/swagger.json - null null
2025-02-10 22:43:48.438 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.168ms
2025-02-10 22:45:49.013 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 22:45:49.018 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:45:49.033 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:45:49.038 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 1.2571ms
2025-02-10 22:45:49.038 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:45:49.041 +00:00 [ERR] Connection id "0HNAA4HD02IS2", Request id "0HNAA4HD02IS2:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'Friends.Application.IUsersApiClient' while attempting to activate 'Friends.Infrastructure.Services.FriendService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-02-10 22:45:49.052 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 500 0 null 39.3797ms
2025-02-10 22:49:33.953 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "FriendsDB" WITH (FORCE);
2025-02-10 22:49:34.101 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "FriendsDB";
2025-02-10 22:49:34.190 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Friends" (
    "ProfileId" integer NOT NULL,
    "FriendId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Friends" PRIMARY KEY ("ProfileId", "FriendId")
);
2025-02-10 22:49:34.334 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-10 22:49:34.334 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-10 22:49:34.335 +00:00 [INF] Hosting environment: Production
2025-02-10 22:49:34.335 +00:00 [INF] Content root path: /app
2025-02-10 22:50:19.997 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 22:50:20.027 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:50:20.046 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:50:20.345 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 22:50:20.373 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 22:50:20.383 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 333.6897ms
2025-02-10 22:50:20.385 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:50:20.394 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 397.24ms
2025-02-10 22:50:25.179 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 22:50:25.182 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:50:25.183 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:50:25.227 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 22:50:25.228 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 22:50:25.229 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 45.3843ms
2025-02-10 22:50:25.230 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:50:25.231 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 51.9121ms
2025-02-10 22:52:20.472 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/1/first_friend - null null
2025-02-10 22:52:20.476 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFirstFriendByProfileId (Friends.Web)'
2025-02-10 22:52:20.481 +00:00 [INF] Route matched with {action = "GetFirstFriendByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstFriendByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:52:20.700 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 22:52:20.714 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Domain.Entities.Friend'.
2025-02-10 22:52:20.724 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFirstFriendByProfileId (Friends.Web) in 243.174ms
2025-02-10 22:52:20.725 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFirstFriendByProfileId (Friends.Web)'
2025-02-10 22:52:20.726 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/1/first_friend - 200 null application/json; charset=utf-8 253.7927ms
2025-02-10 22:52:25.980 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - null null
2025-02-10 22:52:25.982 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:52:25.988 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:52:25.996 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 22:52:26.010 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."FriendId"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
2025-02-10 22:52:26.021 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/friends-api/api/Profile/1
2025-02-10 22:52:26.025 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/friends-api/api/Profile/1
2025-02-10 22:52:26.048 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Profile/1 - null null
2025-02-10 22:52:26.048 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Profile/1 - 404 0 null 0.9468ms
2025-02-10 22:52:26.049 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://friends.web:8080/api/Profile/1, Response status code: 404
2025-02-10 22:52:26.055 +00:00 [INF] Received HTTP response headers after 27.4222ms - 404
2025-02-10 22:52:26.056 +00:00 [INF] End processing HTTP request after 35.7216ms - 404
2025-02-10 22:52:26.060 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-10 22:52:26.061 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 72.799ms
2025-02-10 22:52:26.062 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:52:26.063 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - 500 null text/plain; charset=utf-8 83.2888ms
2025-02-10 22:54:30.605 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/1/first_friend - null null
2025-02-10 22:54:30.606 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFirstFriendByProfileId (Friends.Web)'
2025-02-10 22:54:30.606 +00:00 [INF] Route matched with {action = "GetFirstFriendByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFirstFriendByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:54:30.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 22:54:30.610 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Domain.Entities.Friend'.
2025-02-10 22:54:30.611 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFirstFriendByProfileId (Friends.Web) in 4.7841ms
2025-02-10 22:54:30.612 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFirstFriendByProfileId (Friends.Web)'
2025-02-10 22:54:30.613 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/1/first_friend - 200 null application/json; charset=utf-8 8.0965ms
2025-02-10 22:54:46.530 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - null null
2025-02-10 22:54:46.531 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:54:46.531 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:54:46.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 22:54:46.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."FriendId"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
2025-02-10 22:54:46.553 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/friends-api/api/Profile/1
2025-02-10 22:54:46.554 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/friends-api/api/Profile/1
2025-02-10 22:54:46.563 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Profile/1 - null null
2025-02-10 22:54:46.564 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Profile/1 - 404 0 null 0.7464ms
2025-02-10 22:54:46.564 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://friends.web:8080/api/Profile/1, Response status code: 404
2025-02-10 22:54:46.565 +00:00 [INF] Received HTTP response headers after 10.5631ms - 404
2025-02-10 22:54:46.566 +00:00 [INF] End processing HTTP request after 12.3414ms - 404
2025-02-10 22:54:46.567 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-10 22:54:46.568 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 36.1037ms
2025-02-10 22:54:46.568 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:54:46.569 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - 500 null text/plain; charset=utf-8 39.1589ms
2025-02-10 22:56:05.366 +00:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "FriendsDB" WITH (FORCE);
2025-02-10 22:56:05.524 +00:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "FriendsDB";
2025-02-10 22:56:05.613 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Friends" (
    "ProfileId" integer NOT NULL,
    "FriendId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Friends" PRIMARY KEY ("ProfileId", "FriendId")
);
2025-02-10 22:56:05.744 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-10 22:56:05.745 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-10 22:56:05.745 +00:00 [INF] Hosting environment: Production
2025-02-10 22:56:05.746 +00:00 [INF] Content root path: /app
2025-02-10 22:56:37.924 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 22:56:37.956 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:56:37.976 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:56:38.233 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 22:56:38.253 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 22:56:38.262 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 282.9024ms
2025-02-10 22:56:38.264 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:56:38.271 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 348.1302ms
2025-02-10 22:56:41.944 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 22:56:41.947 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:56:41.948 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:56:42.003 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 22:56:42.004 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 22:56:42.005 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 56.3985ms
2025-02-10 22:56:42.005 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 22:56:42.006 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 62.0247ms
2025-02-10 22:56:46.033 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - null null
2025-02-10 22:56:46.038 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:56:46.042 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:56:46.241 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 22:56:46.269 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."FriendId"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
2025-02-10 22:56:46.279 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 22:56:46.282 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 22:56:46.362 +00:00 [INF] Received HTTP response headers after 77.5764ms - 200
2025-02-10 22:56:46.364 +00:00 [INF] End processing HTTP request after 85.9735ms - 200
2025-02-10 22:56:46.432 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 22:56:46.432 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 22:56:46.493 +00:00 [INF] Received HTTP response headers after 60.798ms - 200
2025-02-10 22:56:46.494 +00:00 [INF] End processing HTTP request after 62.4247ms - 200
2025-02-10 22:56:46.503 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 22:56:46.521 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 477.728ms
2025-02-10 22:56:46.521 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:56:46.522 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - 200 null application/json; charset=utf-8 488.7033ms
2025-02-10 22:57:07.471 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - null null
2025-02-10 22:57:07.473 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:57:07.473 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 22:57:07.479 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 22:57:07.480 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-10 22:57:07.481 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 7.3005ms
2025-02-10 22:57:07.481 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 22:57:07.482 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - 500 null text/plain; charset=utf-8 10.9044ms
2025-02-10 23:05:55.455 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "FriendsDB" WITH (FORCE);
2025-02-10 23:05:55.580 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "FriendsDB";
2025-02-10 23:05:55.657 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Friends" (
    "ProfileId" integer NOT NULL,
    "FriendId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Friends" PRIMARY KEY ("ProfileId", "FriendId")
);
2025-02-10 23:05:55.787 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-10 23:05:55.788 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-10 23:05:55.789 +00:00 [INF] Hosting environment: Production
2025-02-10 23:05:55.790 +00:00 [INF] Content root path: /app
2025-02-10 23:06:32.394 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 23:06:32.429 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:06:32.450 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:06:32.714 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 23:06:32.736 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 23:06:32.748 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 295.2807ms
2025-02-10 23:06:32.750 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:06:32.758 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 364.5813ms
2025-02-10 23:06:34.177 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 23:06:34.180 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:06:34.181 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:06:34.236 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 23:06:34.237 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 23:06:34.238 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 56.6712ms
2025-02-10 23:06:34.239 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:06:34.240 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 62.7125ms
2025-02-10 23:06:38.913 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - null null
2025-02-10 23:06:38.919 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:06:38.923 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:06:39.123 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 23:06:39.128 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-10 23:06:39.130 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 206.3084ms
2025-02-10 23:06:39.130 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:06:39.131 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - 500 null text/plain; charset=utf-8 218.2878ms
2025-02-10 23:07:01.063 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - null null
2025-02-10 23:07:01.065 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:07:01.066 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:07:01.075 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 23:07:01.118 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(CASE
    WHEN f."ProfileId" = @__profileId_0 THEN f."FriendId"
    ELSE f."ProfileId"
END, 0)
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
2025-02-10 23:07:01.130 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 23:07:01.134 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 23:07:01.204 +00:00 [INF] Received HTTP response headers after 67.6173ms - 200
2025-02-10 23:07:01.205 +00:00 [INF] End processing HTTP request after 75.8755ms - 200
2025-02-10 23:07:01.283 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:07:01.284 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:07:01.343 +00:00 [INF] Received HTTP response headers after 58.6493ms - 200
2025-02-10 23:07:01.343 +00:00 [INF] End processing HTTP request after 60.0171ms - 200
2025-02-10 23:07:01.351 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 23:07:01.368 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 301.4312ms
2025-02-10 23:07:01.369 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:07:01.369 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - 200 null application/json; charset=utf-8 306.5514ms
2025-02-10 23:07:09.003 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - null null
2025-02-10 23:07:09.004 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:07:09.006 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:07:09.010 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0
LIMIT 1
2025-02-10 23:07:09.011 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-10 23:07:09.012 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 5.6158ms
2025-02-10 23:07:09.013 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:07:09.014 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - 500 null text/plain; charset=utf-8 11.1089ms
2025-02-10 23:12:42.206 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "FriendsDB" WITH (FORCE);
2025-02-10 23:12:42.309 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "FriendsDB";
2025-02-10 23:12:42.391 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Friends" (
    "ProfileId" integer NOT NULL,
    "FriendId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Friends" PRIMARY KEY ("ProfileId", "FriendId")
);
2025-02-10 23:12:42.528 +00:00 [INF] Now listening on: http://[::]:8080
2025-02-10 23:12:42.529 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-10 23:12:42.529 +00:00 [INF] Hosting environment: Production
2025-02-10 23:12:42.530 +00:00 [INF] Content root path: /app
2025-02-10 23:13:31.762 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 23:13:31.797 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:13:31.821 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:13:32.058 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 23:13:32.079 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 23:13:32.088 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 262.8102ms
2025-02-10 23:13:32.089 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:13:32.098 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 337.3244ms
2025-02-10 23:13:33.441 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 23:13:33.444 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:13:33.445 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:13:33.499 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 23:13:33.500 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 23:13:33.501 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 55.5037ms
2025-02-10 23:13:33.502 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:13:33.503 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 62.035ms
2025-02-10 23:13:38.557 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - null null
2025-02-10 23:13:38.561 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:13:38.566 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:13:38.757 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
LIMIT 1
2025-02-10 23:13:38.798 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(CASE
    WHEN f."ProfileId" = @__profileId_0 THEN f."FriendId"
    ELSE f."ProfileId"
END, 0)
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
2025-02-10 23:13:38.809 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 23:13:38.813 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 23:13:38.884 +00:00 [INF] Received HTTP response headers after 68.3376ms - 200
2025-02-10 23:13:38.885 +00:00 [INF] End processing HTTP request after 76.3714ms - 200
2025-02-10 23:13:38.967 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:13:38.968 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:13:39.034 +00:00 [INF] Received HTTP response headers after 66.1013ms - 200
2025-02-10 23:13:39.035 +00:00 [INF] End processing HTTP request after 67.933ms - 200
2025-02-10 23:13:39.044 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 23:13:39.062 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 495.3018ms
2025-02-10 23:13:39.062 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:13:39.063 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - 200 null application/json; charset=utf-8 506.0124ms
2025-02-10 23:13:43.169 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - null null
2025-02-10 23:13:43.170 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:13:43.170 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:13:43.176 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
LIMIT 1
2025-02-10 23:13:43.178 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(CASE
    WHEN f."ProfileId" = @__profileId_0 THEN f."FriendId"
    ELSE f."ProfileId"
END, 0)
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
2025-02-10 23:13:43.179 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/2
2025-02-10 23:13:43.179 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/2
2025-02-10 23:13:43.188 +00:00 [INF] Received HTTP response headers after 7.9437ms - 200
2025-02-10 23:13:43.189 +00:00 [INF] End processing HTTP request after 9.6816ms - 200
2025-02-10 23:13:43.190 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:13:43.190 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:13:43.198 +00:00 [INF] Received HTTP response headers after 7.248ms - 200
2025-02-10 23:13:43.198 +00:00 [INF] End processing HTTP request after 8.821ms - 200
2025-02-10 23:13:43.199 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 23:13:43.200 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 29.3259ms
2025-02-10 23:13:43.201 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:13:43.201 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - 200 null application/json; charset=utf-8 32.6672ms
2025-02-10 23:13:48.866 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/3 - null null
2025-02-10 23:13:48.867 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:13:48.867 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:13:48.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
LIMIT 1
2025-02-10 23:13:48.872 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(CASE
    WHEN f."ProfileId" = @__profileId_0 THEN f."FriendId"
    ELSE f."ProfileId"
END, 0)
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
2025-02-10 23:13:48.873 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/3
2025-02-10 23:13:48.874 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/3
2025-02-10 23:13:48.882 +00:00 [INF] Received HTTP response headers after 8.1289ms - 200
2025-02-10 23:13:48.883 +00:00 [INF] End processing HTTP request after 9.8145ms - 200
2025-02-10 23:13:48.885 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:13:48.885 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:13:48.893 +00:00 [INF] Received HTTP response headers after 7.641ms - 200
2025-02-10 23:13:48.894 +00:00 [INF] End processing HTTP request after 9.1715ms - 200
2025-02-10 23:13:48.895 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 23:13:48.896 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 27.7489ms
2025-02-10 23:13:48.896 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:13:48.897 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/3 - 200 null application/json; charset=utf-8 30.9174ms
2025-02-10 23:13:58.474 +00:00 [INF] Request starting HTTP/1.1 POST http://friends.web:8080/api/Friend/add - application/json 37
2025-02-10 23:13:58.475 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:13:58.475 +00:00 [INF] Route matched with {action = "AddFriend", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFriend(Friends.Application.Models.AddFriendDto) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:13:58.481 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Friends" ("FriendId", "ProfileId", "Created")
VALUES (@p0, @p1, @p2);
2025-02-10 23:13:58.482 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-02-10 23:13:58.483 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.AddFriend (Friends.Web) in 7.1112ms
2025-02-10 23:13:58.484 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.AddFriend (Friends.Web)'
2025-02-10 23:13:58.485 +00:00 [INF] Request finished HTTP/1.1 POST http://friends.web:8080/api/Friend/add - 200 null application/json; charset=utf-8 10.579ms
2025-02-10 23:14:05.735 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/3 - null null
2025-02-10 23:14:05.736 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:14:05.737 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:14:05.739 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
LIMIT 1
2025-02-10 23:14:05.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(CASE
    WHEN f."ProfileId" = @__profileId_0 THEN f."FriendId"
    ELSE f."ProfileId"
END, 0)
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
2025-02-10 23:14:05.742 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/3
2025-02-10 23:14:05.742 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/3
2025-02-10 23:14:05.751 +00:00 [INF] Received HTTP response headers after 8.6288ms - 200
2025-02-10 23:14:05.752 +00:00 [INF] End processing HTTP request after 10.0535ms - 200
2025-02-10 23:14:05.753 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:14:05.753 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:14:05.760 +00:00 [INF] Received HTTP response headers after 6.7298ms - 200
2025-02-10 23:14:05.761 +00:00 [INF] End processing HTTP request after 8.2461ms - 200
2025-02-10 23:14:05.762 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 23:14:05.763 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 26.0515ms
2025-02-10 23:14:05.764 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:14:05.765 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/3 - 200 null application/json; charset=utf-8 29.5196ms
2025-02-10 23:14:08.710 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - null null
2025-02-10 23:14:08.711 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:14:08.713 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:14:08.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
LIMIT 1
2025-02-10 23:14:08.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(CASE
    WHEN f."ProfileId" = @__profileId_0 THEN f."FriendId"
    ELSE f."ProfileId"
END, 0)
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
2025-02-10 23:14:08.721 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/2
2025-02-10 23:14:08.722 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/2
2025-02-10 23:14:08.734 +00:00 [INF] Received HTTP response headers after 10.8227ms - 200
2025-02-10 23:14:08.734 +00:00 [INF] End processing HTTP request after 13.0424ms - 200
2025-02-10 23:14:08.735 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:14:08.736 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:14:08.745 +00:00 [INF] Received HTTP response headers after 8.8713ms - 200
2025-02-10 23:14:08.746 +00:00 [INF] End processing HTTP request after 10.3157ms - 200
2025-02-10 23:14:08.747 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 23:14:08.748 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 33.7744ms
2025-02-10 23:14:08.748 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:14:08.749 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/2 - 200 null application/json; charset=utf-8 38.4315ms
2025-02-10 23:14:12.542 +00:00 [INF] Request starting HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - null null
2025-02-10 23:14:12.542 +00:00 [INF] Executing endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:14:12.542 +00:00 [INF] Route matched with {action = "GetFriendsByProfileId", controller = "Friend"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFriendsByProfileId(Int32) on controller Friends.Web.Controllers.FriendController (Friends.Web).
2025-02-10 23:14:12.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."ProfileId", f."FriendId", f."Created"
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
LIMIT 1
2025-02-10 23:14:12.547 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__profileId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(CASE
    WHEN f."ProfileId" = @__profileId_0 THEN f."FriendId"
    ELSE f."ProfileId"
END, 0)
FROM "Friends" AS f
WHERE f."ProfileId" = @__profileId_0 OR f."FriendId" = @__profileId_0
2025-02-10 23:14:12.548 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 23:14:12.548 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/1
2025-02-10 23:14:12.558 +00:00 [INF] Received HTTP response headers after 8.7605ms - 200
2025-02-10 23:14:12.558 +00:00 [INF] End processing HTTP request after 10.3069ms - 200
2025-02-10 23:14:12.559 +00:00 [INF] Start processing HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:14:12.559 +00:00 [INF] Sending HTTP request GET http://yarp.gateway:8080/users-api/api/Profile/profiles?*
2025-02-10 23:14:12.568 +00:00 [INF] Received HTTP response headers after 7.7186ms - 200
2025-02-10 23:14:12.568 +00:00 [INF] End processing HTTP request after 8.992ms - 200
2025-02-10 23:14:12.569 +00:00 [INF] Executing OkObjectResult, writing value of type 'Friends.Application.Models.UserFriendDto'.
2025-02-10 23:14:12.570 +00:00 [INF] Executed action Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web) in 26.8948ms
2025-02-10 23:14:12.570 +00:00 [INF] Executed endpoint 'Friends.Web.Controllers.FriendController.GetFriendsByProfileId (Friends.Web)'
2025-02-10 23:14:12.571 +00:00 [INF] Request finished HTTP/1.1 GET http://friends.web:8080/api/Friend/profile/1 - 200 null application/json; charset=utf-8 29.5132ms
