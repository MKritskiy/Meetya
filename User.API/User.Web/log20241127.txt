2024-11-27 21:10:00.199 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:10:00.317 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text NOT NULL,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:10:00.322 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:10:00.367 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:10:00.703 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:10:00.710 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-27 21:10:00.733 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:10:00.734 +03:00 [INF] Hosting environment: Development
2024-11-27 21:10:00.735 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:10:02.007 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/ - null null
2024-11-27 21:10:02.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/ - 301 0 null 166.7678ms
2024-11-27 21:10:02.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:10:02.226 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 47.4141ms
2024-11-27 21:10:02.250 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger-ui.css - null null
2024-11-27 21:10:02.251 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.css - null null
2024-11-27 21:10:02.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger-ui-bundle.js - null null
2024-11-27 21:10:02.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger-ui-standalone-preset.js - null null
2024-11-27 21:10:02.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:10:02.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:10:02.258 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2024-11-27 21:10:02.261 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-11-27 21:10:02.262 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-11-27 21:10:02.264 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 11.237ms
2024-11-27 21:10:02.265 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-11-27 21:10:02.268 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 14.5679ms
2024-11-27 21:10:02.268 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.css - 200 202 text/css 16.981ms
2024-11-27 21:10:02.270 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger-ui.css - 200 152035 text/css 20.333ms
2024-11-27 21:10:02.271 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger-ui-standalone-preset.js - 200 230007 text/javascript 18.213ms
2024-11-27 21:10:02.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger-ui-bundle.js - 200 1426050 text/javascript 22.8057ms
2024-11-27 21:10:02.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:10:02.427 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 148.4154ms
2024-11-27 21:10:02.487 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:10:02.493 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.7462ms
2024-11-27 21:10:02.508 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/favicon-32x32.png - null null
2024-11-27 21:10:02.511 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-11-27 21:10:02.513 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/favicon-32x32.png - 200 628 image/png 5.1341ms
2024-11-27 21:12:17.928 +03:00 [INF] Application is shutting down...
2024-11-27 21:12:24.120 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-11-27 21:12:24.270 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:12:24.302 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:12:24.303 +03:00 [INF] Hosting environment: Development
2024-11-27 21:12:24.304 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:12:24.531 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:12:24.630 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 100.3473ms
2024-11-27 21:12:24.683 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:12:24.687 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.8567ms
2024-11-27 21:12:24.692 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:12:24.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:12:24.695 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 3.3633ms
2024-11-27 21:12:24.717 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.3148ms
2024-11-27 21:12:24.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:12:24.892 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.9435ms
2024-11-27 21:12:55.477 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 56
2024-11-27 21:12:55.484 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:12:55.500 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:12:55.768 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:12:55.931 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:12:55.947 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Users.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "PhoneNumber" of relation "Users" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "PhoneNumber" of relation "Users" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: PhoneNumber
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "PhoneNumber" of relation "Users" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "PhoneNumber" of relation "Users" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: PhoneNumber
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-27 21:12:55.968 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:12:55.972 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 467.9452ms
2024-11-27 21:12:55.974 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:12:55.979 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 501.3879ms
2024-11-27 21:14:16.658 +03:00 [INF] Application is shutting down...
2024-11-27 21:14:29.572 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-11-27 21:14:29.674 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:14:29.713 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:14:29.715 +03:00 [INF] Hosting environment: Development
2024-11-27 21:14:29.716 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:14:30.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:14:30.248 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 108.9397ms
2024-11-27 21:14:30.269 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:14:30.269 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:14:30.269 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:14:30.273 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.111ms
2024-11-27 21:14:30.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.8697ms
2024-11-27 21:14:30.299 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.0097ms
2024-11-27 21:14:30.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:14:30.478 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.6456ms
2024-11-27 21:14:36.175 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:14:36.181 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:14:36.195 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:14:36.416 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:14:36.552 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:14:36.568 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Users.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "PhoneNumber" of relation "Users" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "PhoneNumber" of relation "Users" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: PhoneNumber
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "PhoneNumber" of relation "Users" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "PhoneNumber" of relation "Users" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: PhoneNumber
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-27 21:14:36.587 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:14:36.591 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 392.2152ms
2024-11-27 21:14:36.592 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:14:36.597 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 421.5274ms
2024-11-27 21:15:13.264 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:15:13.363 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:15:13.447 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:15:13.453 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:15:13.456 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:15:13.544 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:15:13.579 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:15:13.580 +03:00 [INF] Hosting environment: Development
2024-11-27 21:15:13.582 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:15:13.949 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:15:14.052 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 103.7462ms
2024-11-27 21:15:14.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:15:14.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:15:14.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:15:14.085 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 5.7824ms
2024-11-27 21:15:14.090 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.0487ms
2024-11-27 21:15:14.108 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.6292ms
2024-11-27 21:15:14.147 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:15:14.157 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.1951ms
2024-11-27 21:15:18.725 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:15:18.731 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:15:18.745 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:15:18.988 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:15:19.116 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:15:19.544 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:15:19.549 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 799.7878ms
2024-11-27 21:15:19.550 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:15:19.555 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 829.6706ms
2024-11-27 21:15:52.328 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 56
2024-11-27 21:15:52.332 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:15:52.333 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:15:52.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:15:52.386 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:15:52.389 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:15:52.391 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 55.6441ms
2024-11-27 21:15:52.392 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:15:52.393 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 64.7882ms
2024-11-27 21:16:12.884 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 56
2024-11-27 21:16:12.888 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:16:12.889 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:16:12.901 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:16:12.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:16:12.910 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:16:12.911 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 19.4692ms
2024-11-27 21:16:12.913 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:16:12.914 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 29.5003ms
2024-11-27 21:16:32.254 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:16:32.360 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:16:32.468 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:16:32.474 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:16:32.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:16:32.656 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:16:32.701 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:16:32.702 +03:00 [INF] Hosting environment: Development
2024-11-27 21:16:32.704 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:16:33.761 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:16:33.942 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 185.606ms
2024-11-27 21:16:33.959 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:16:33.965 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 6.3187ms
2024-11-27 21:16:33.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:16:33.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:16:34.007 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 12.7641ms
2024-11-27 21:16:34.039 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.3054ms
2024-11-27 21:16:34.093 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:16:34.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.51ms
2024-11-27 21:16:44.067 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:16:44.074 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:16:44.094 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:16:53.333 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:16:53.514 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:17:00.915 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:17:00.922 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 16822.5809ms
2024-11-27 21:17:00.924 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:17:00.930 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 16862.9294ms
2024-11-27 21:17:02.354 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:17:02.359 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:17:02.361 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:17:03.362 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:17:23.799 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:17:29.168 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:17:29.170 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 26806.3149ms
2024-11-27 21:17:29.171 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:17:29.173 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 26818.2371ms
2024-11-27 21:17:35.241 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:17:35.244 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:17:35.246 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:18:07.461 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:18:22.340 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:18:24.124 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:18:24.127 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 48878.8646ms
2024-11-27 21:18:24.129 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:18:24.130 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 48889.0809ms
2024-11-27 21:18:36.665 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:18:36.668 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:18:36.669 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:18:41.910 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:18:45.963 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:19:01.779 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:19:01.781 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 25110.3488ms
2024-11-27 21:19:01.782 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:19:01.783 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 25118.8328ms
2024-11-27 21:19:09.057 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:19:09.060 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:19:09.061 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:19:13.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:19:14.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:19:18.900 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:19:18.901 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 9838.9934ms
2024-11-27 21:19:18.903 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:19:18.904 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 9847.3519ms
2024-11-27 21:19:56.139 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:19:56.146 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:19:56.147 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:19:58.481 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:19:58.495 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:20:01.035 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:20:01.037 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 4887.3792ms
2024-11-27 21:20:01.038 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:20:01.039 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 4900.9642ms
2024-11-27 21:20:05.396 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:20:05.399 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:20:05.400 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:20:08.477 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:20:08.485 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:20:14.520 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:20:14.522 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 9120.548ms
2024-11-27 21:20:14.524 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:20:14.525 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 9129.4821ms
2024-11-27 21:21:26.205 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:21:26.303 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:21:26.397 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:21:26.403 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:21:26.407 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:21:26.584 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:21:26.626 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:21:26.627 +03:00 [INF] Hosting environment: Development
2024-11-27 21:21:26.628 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:21:27.147 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:21:27.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 179.075ms
2024-11-27 21:21:27.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:21:27.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:21:27.347 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 5.3064ms
2024-11-27 21:21:27.349 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.6999ms
2024-11-27 21:21:27.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:21:27.392 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.3037ms
2024-11-27 21:21:27.450 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:21:27.462 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.464ms
2024-11-27 21:21:32.651 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:21:32.659 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:21:32.679 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:21:33.040 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:21:33.207 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:23:23.622 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:23:23.721 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:23:23.816 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:23:23.821 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:23:23.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:23:23.999 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:23:24.041 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:23:24.042 +03:00 [INF] Hosting environment: Development
2024-11-27 21:23:24.043 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:23:24.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:23:24.679 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 153.9463ms
2024-11-27 21:23:24.707 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:23:24.707 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:23:24.713 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.4947ms
2024-11-27 21:23:24.715 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 7.807ms
2024-11-27 21:23:24.724 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:23:24.759 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1999ms
2024-11-27 21:23:24.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:23:24.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.3878ms
2024-11-27 21:23:28.209 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:23:28.219 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:23:28.239 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:23:28.644 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:23:28.826 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:24:08.507 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:24:08.610 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:24:08.710 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:24:08.715 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:24:08.718 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:24:08.902 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:24:08.944 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:24:08.945 +03:00 [INF] Hosting environment: Development
2024-11-27 21:24:08.946 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:24:09.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:24:09.538 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 152.7375ms
2024-11-27 21:24:09.632 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:24:09.637 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 5.429ms
2024-11-27 21:24:09.640 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:24:09.646 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.0213ms
2024-11-27 21:24:09.654 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:24:09.691 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.0682ms
2024-11-27 21:24:09.747 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:24:09.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.5372ms
2024-11-27 21:24:14.791 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:24:14.802 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:24:14.821 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:24:15.163 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:24:15.345 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:24:35.760 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:24:35.853 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:24:35.936 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:24:35.942 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:24:35.945 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:24:36.032 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:24:36.064 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:24:36.065 +03:00 [INF] Hosting environment: Development
2024-11-27 21:24:36.066 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:24:36.479 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:24:36.579 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 100.9411ms
2024-11-27 21:24:36.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:24:36.602 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:24:36.607 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.2006ms
2024-11-27 21:24:36.609 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.8129ms
2024-11-27 21:24:36.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:24:36.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.1797ms
2024-11-27 21:24:36.723 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:24:36.732 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1809ms
2024-11-27 21:24:40.591 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:24:40.597 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:24:40.610 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:24:40.851 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:24:40.978 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:24:41.011 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:24:41.015 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 400.0055ms
2024-11-27 21:24:41.016 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:24:41.020 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 429.7843ms
2024-11-27 21:24:44.683 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:24:44.687 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:24:44.688 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:24:44.733 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:24:44.742 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:24:44.746 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:24:44.747 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 56.9095ms
2024-11-27 21:24:44.749 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:24:44.750 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 66.671ms
2024-11-27 21:26:16.530 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:26:16.618 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:26:16.702 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:26:16.708 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:26:16.710 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:26:16.799 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:26:16.832 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:26:16.833 +03:00 [INF] Hosting environment: Development
2024-11-27 21:26:16.834 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:26:17.140 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:26:17.239 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 100.2498ms
2024-11-27 21:26:17.265 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:26:17.265 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:26:17.265 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:26:17.269 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.9362ms
2024-11-27 21:26:17.273 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.9859ms
2024-11-27 21:26:17.293 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.1641ms
2024-11-27 21:26:17.334 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:26:17.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.8316ms
2024-11-27 21:26:21.670 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:26:21.677 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:26:21.692 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:26:21.959 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:26:22.085 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:26:22.478 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:26:22.482 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 786.3554ms
2024-11-27 21:26:22.484 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:26:22.488 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 818.0523ms
2024-11-27 21:29:58.756 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:29:58.849 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:29:58.932 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:29:58.937 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:29:58.940 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:29:59.027 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:29:59.059 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:29:59.060 +03:00 [INF] Hosting environment: Development
2024-11-27 21:29:59.061 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:29:59.242 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:29:59.339 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.2809ms
2024-11-27 21:29:59.378 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:29:59.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:29:59.382 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.7808ms
2024-11-27 21:29:59.385 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.3019ms
2024-11-27 21:29:59.387 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:29:59.411 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.6094ms
2024-11-27 21:29:59.463 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:29:59.472 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.341ms
2024-11-27 21:30:57.944 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:30:58.040 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:30:58.132 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:30:58.137 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:30:58.142 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:30:58.233 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:30:58.267 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:30:58.268 +03:00 [INF] Hosting environment: Development
2024-11-27 21:30:58.269 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:30:58.549 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:30:58.654 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 105.0262ms
2024-11-27 21:30:58.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:30:58.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:30:58.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:30:58.680 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.8198ms
2024-11-27 21:30:58.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.9066ms
2024-11-27 21:30:58.704 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.2554ms
2024-11-27 21:30:58.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:30:58.739 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.3624ms
2024-11-27 21:31:08.816 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:31:08.822 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 6.297ms
2024-11-27 21:31:08.856 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:31:08.858 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:31:08.860 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.9991ms
2024-11-27 21:31:08.864 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.1523ms
2024-11-27 21:31:08.887 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:31:08.900 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.877ms
2024-11-27 21:31:08.991 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:31:08.998 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.3526ms
2024-11-27 21:31:13.131 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:31:13.137 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:31:13.151 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:31:13.407 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:31:13.538 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:31:13.629 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?', @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Profiles" ("About", "Age", "Created", "CurrentAvatar", "FirstName", "Gender", "LastActivity", "LastModified", "LastName", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2024-11-27 21:31:13.643 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Users.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "FirstName" of relation "Profiles" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "FirstName" of relation "Profiles" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Profiles
    ColumnName: FirstName
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "FirstName" of relation "Profiles" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "FirstName" of relation "Profiles" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Profiles
    ColumnName: FirstName
    File: execMain.c
    Line: 1987
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-11-27 21:31:13.657 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-11-27 21:31:13.661 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 506.7034ms
2024-11-27 21:31:13.662 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:31:13.667 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 500 null text/plain; charset=utf-8 535.7926ms
2024-11-27 21:32:10.941 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 21:32:11.039 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 21:32:11.124 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 21:32:11.130 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 21:32:11.134 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 21:32:11.221 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 21:32:11.255 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 21:32:11.256 +03:00 [INF] Hosting environment: Development
2024-11-27 21:32:11.257 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 21:32:11.566 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 21:32:11.669 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 104.1416ms
2024-11-27 21:32:11.697 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 21:32:11.698 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 21:32:11.698 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 21:32:11.702 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 5.0633ms
2024-11-27 21:32:11.708 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.8432ms
2024-11-27 21:32:11.726 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.952ms
2024-11-27 21:32:11.771 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 21:32:11.782 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.4383ms
2024-11-27 21:32:16.005 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:32:16.010 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:16.023 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:32:16.260 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:32:16.389 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 21:32:16.445 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 21:32:16.450 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 423.5261ms
2024-11-27 21:32:16.452 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:16.456 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 451.5498ms
2024-11-27 21:32:26.642 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/login - application/json 47
2024-11-27 21:32:26.646 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 21:32:26.650 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Users.Application.Models.LoginDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:32:26.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:32:26.709 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 21:32:26.710 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Login (Users.Web) in 57.7932ms
2024-11-27 21:32:26.712 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 21:32:26.713 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/login - 200 null application/json; charset=utf-8 71.3811ms
2024-11-27 21:32:31.232 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/login - application/json 47
2024-11-27 21:32:31.235 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 21:32:31.236 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Users.Application.Models.LoginDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:32:31.245 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:32:31.250 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 21:32:31.252 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Login (Users.Web) in 13.3704ms
2024-11-27 21:32:31.253 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 21:32:31.255 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/login - 200 null application/json; charset=utf-8 22.628ms
2024-11-27 21:32:32.092 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/login - application/json 47
2024-11-27 21:32:32.095 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 21:32:32.096 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Users.Application.Models.LoginDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:32:32.101 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:32:32.106 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 21:32:32.108 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Login (Users.Web) in 9.9722ms
2024-11-27 21:32:32.110 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 21:32:32.112 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/login - 200 null application/json; charset=utf-8 19.8458ms
2024-11-27 21:32:39.961 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:32:39.964 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:39.965 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:32:39.970 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:32:39.975 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 21:32:39.977 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 9.4197ms
2024-11-27 21:32:39.978 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:39.979 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 18.538ms
2024-11-27 21:32:42.495 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:32:42.498 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:42.499 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:32:42.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:32:42.507 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 21:32:42.508 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 7.1091ms
2024-11-27 21:32:42.509 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:42.510 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 15.6913ms
2024-11-27 21:32:44.841 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 21:32:44.843 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:44.844 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 21:32:44.849 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 21:32:44.853 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 21:32:44.854 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 7.0578ms
2024-11-27 21:32:44.855 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 21:32:44.856 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 15.8699ms
2024-11-27 22:29:29.937 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 22:29:30.027 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 22:29:30.110 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 22:29:30.115 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 22:29:30.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 22:29:30.238 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 22:29:30.247 +03:00 [INF] Creating key {03655aa3-c36f-4118-bca0-e2c3ced232b2} with creation date 2024-11-27 19:29:30Z, activation date 2024-11-27 19:29:30Z, and expiration date 2025-02-25 19:29:30Z.
2024-11-27 22:29:30.260 +03:00 [INF] Writing data to file 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys\key-03655aa3-c36f-4118-bca0-e2c3ced232b2.xml'.
2024-11-27 22:29:30.311 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 22:29:30.348 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 22:29:30.349 +03:00 [INF] Hosting environment: Development
2024-11-27 22:29:30.350 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 22:29:30.552 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 22:29:30.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 99.5997ms
2024-11-27 22:29:30.684 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 22:29:30.685 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 22:29:30.688 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.6267ms
2024-11-27 22:29:30.691 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.7405ms
2024-11-27 22:29:30.701 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 22:29:30.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.9947ms
2024-11-27 22:29:30.804 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 22:29:30.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.1129ms
2024-11-27 22:29:34.810 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:29:35.078 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:29:35.081 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:29:35.083 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 272.9936ms
2024-11-27 22:29:45.391 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 22:29:45.398 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:29:45.411 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 22:29:45.685 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 22:29:45.824 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 22:29:45.880 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 22:29:45.885 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 469.6396ms
2024-11-27 22:29:45.887 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:29:45.892 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 500.843ms
2024-11-27 22:29:58.793 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:29:58.798 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:29:58.799 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:29:58.801 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 7.4194ms
2024-11-27 22:30:13.838 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:30:13.842 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:30:13.843 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:30:13.844 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 5.8121ms
2024-11-27 22:30:17.002 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:30:17.005 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:30:17.007 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:30:17.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 6.4402ms
2024-11-27 22:30:36.019 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:30:36.029 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:30:36.036 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:30:36.037 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:30:36.039 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:30:36.040 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 20.4641ms
2024-11-27 22:31:10.317 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:31:10.321 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:31:10.322 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:31:10.324 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 6.6123ms
2024-11-27 22:31:48.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:31:48.240 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:31:48.241 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:31:48.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 4.8842ms
2024-11-27 22:31:55.263 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:31:55.266 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:31:55.267 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:31:55.269 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 5.534ms
2024-11-27 22:33:20.943 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:33:20.947 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:33:20.949 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:33:20.951 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:33:20.952 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:33:20.953 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 9.9555ms
2024-11-27 22:33:44.007 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:33:44.011 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:33:44.013 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:33:44.014 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:33:44.015 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:33:44.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 9.0801ms
2024-11-27 22:33:55.524 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:33:55.528 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:33:55.531 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:33:55.532 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:33:55.534 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:33:55.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 11.276ms
2024-11-27 22:33:56.003 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:33:56.006 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:33:56.009 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:33:56.010 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:33:56.011 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:33:56.012 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 8.9132ms
2024-11-27 22:33:56.461 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test - null null
2024-11-27 22:33:56.465 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:33:56.467 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:33:56.469 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:33:56.470 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:33:56.471 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test - 401 0 null 9.8719ms
2024-11-27 22:38:41.173 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 22:38:41.449 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 22:38:41.539 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 22:38:41.544 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 22:38:41.548 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 22:38:41.622 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 22:38:41.669 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 22:38:41.709 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 22:38:41.710 +03:00 [INF] Hosting environment: Development
2024-11-27 22:38:41.712 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 22:38:41.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 22:38:41.842 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 101.5121ms
2024-11-27 22:38:41.867 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 22:38:41.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 22:38:41.871 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.1628ms
2024-11-27 22:38:41.873 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.6747ms
2024-11-27 22:38:41.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 22:38:41.906 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.1344ms
2024-11-27 22:38:42.076 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 22:38:42.086 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.6196ms
2024-11-27 22:38:48.420 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 22:38:48.448 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:38:48.462 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 22:38:48.769 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 22:38:48.900 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 22:38:48.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 22:38:48.979 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 512.5719ms
2024-11-27 22:38:48.981 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:38:48.987 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 566.7814ms
2024-11-27 22:38:59.859 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/public - null null
2024-11-27 22:38:59.865 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Public (Users.Web)'
2024-11-27 22:38:59.868 +03:00 [INF] Route matched with {action = "Public", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Public() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 22:38:59.870 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 22:38:59.871 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Public (Users.Web) in 1.7155ms
2024-11-27 22:38:59.872 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Public (Users.Web)'
2024-11-27 22:38:59.873 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/public - 200 null text/plain; charset=utf-8 14.2206ms
2024-11-27 22:39:06.892 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:06.901 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:06.903 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:06.904 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 12.1091ms
2024-11-27 22:39:10.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:10.681 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:10.682 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:10.684 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 6.5932ms
2024-11-27 22:39:21.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:21.473 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:21.479 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:21.481 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:21.483 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:21.483 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 19.5455ms
2024-11-27 22:39:34.999 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:35.002 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:35.005 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:35.007 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:35.008 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:35.010 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 10.7893ms
2024-11-27 22:39:35.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:35.527 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:35.530 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:35.531 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:35.532 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:35.533 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 10.077ms
2024-11-27 22:39:35.789 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:35.792 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:35.794 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:35.795 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:35.797 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:35.798 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.8894ms
2024-11-27 22:39:35.991 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:35.995 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:35.997 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:35.998 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:35.999 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:36.000 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.5219ms
2024-11-27 22:39:36.174 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:36.177 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:36.180 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:36.181 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:36.182 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:36.184 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 9.2085ms
2024-11-27 22:39:36.337 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:36.340 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:36.343 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:36.344 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:36.345 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:36.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.3132ms
2024-11-27 22:39:36.521 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:36.524 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:36.526 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:36.527 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:36.527 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:36.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 7.0189ms
2024-11-27 22:39:36.701 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:36.704 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:36.706 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:36.706 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:36.707 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:36.708 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 7.0837ms
2024-11-27 22:39:36.881 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:36.884 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:36.887 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:36.888 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:36.889 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:36.890 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.6789ms
2024-11-27 22:39:37.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:39:37.073 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:39:37.076 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:39:37.077 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:39:37.078 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:39:37.079 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.7238ms
2024-11-27 22:41:54.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:41:54.345 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:41:54.347 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:41:54.348 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:41:54.349 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:41:54.350 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.8743ms
2024-11-27 22:42:15.864 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:42:15.866 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:42:15.867 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:42:15.868 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 4.9151ms
2024-11-27 22:42:23.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:42:23.737 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:42:23.740 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:42:23.741 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:42:23.742 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:42:23.743 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 9.4602ms
2024-11-27 22:48:33.170 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 22:48:33.284 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 22:48:33.389 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 22:48:33.395 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 22:48:33.398 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 22:48:33.464 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 22:48:33.513 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 22:48:33.552 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 22:48:33.553 +03:00 [INF] Hosting environment: Development
2024-11-27 22:48:33.555 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 22:48:33.672 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 22:48:33.769 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 97.7968ms
2024-11-27 22:48:33.786 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 22:48:33.787 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 22:48:33.790 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.9999ms
2024-11-27 22:48:33.791 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.1215ms
2024-11-27 22:48:33.802 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 22:48:33.825 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7393ms
2024-11-27 22:48:33.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 22:48:33.977 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.5361ms
2024-11-27 22:48:40.622 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 22:48:40.648 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:48:40.662 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 22:48:40.910 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 22:48:41.049 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 22:48:41.105 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 22:48:41.111 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 444.9146ms
2024-11-27 22:48:41.112 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:48:41.117 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 494.6363ms
2024-11-27 22:49:02.607 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:49:02.617 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:49:02.623 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:49:02.627 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:49:02.631 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:49:02.632 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 25.0728ms
2024-11-27 22:49:57.829 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:49:57.834 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:49:57.836 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:49:57.839 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:49:57.840 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:49:57.842 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 12.7953ms
2024-11-27 22:50:08.820 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:50:08.823 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:50:08.825 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:50:08.826 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:50:08.827 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:50:08.828 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.2023ms
2024-11-27 22:50:19.629 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:50:19.633 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:50:19.635 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:50:19.636 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:50:19.637 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:50:19.638 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.9232ms
2024-11-27 22:55:09.726 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 22:55:09.734 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 8.0529ms
2024-11-27 22:55:09.789 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 22:55:09.792 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 2.9103ms
2024-11-27 22:55:09.793 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 22:55:09.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 22:55:09.801 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 3.5992ms
2024-11-27 22:55:09.807 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.5623ms
2024-11-27 22:55:10.004 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 22:55:10.011 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.565ms
2024-11-27 22:55:31.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 22:55:31.356 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 5.7201ms
2024-11-27 22:55:31.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 22:55:31.393 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 22:55:31.393 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 22:55:31.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.9535ms
2024-11-27 22:55:31.402 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.2276ms
2024-11-27 22:55:31.404 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.8122ms
2024-11-27 22:55:31.492 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 22:55:31.500 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.5286ms
2024-11-27 22:56:02.867 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 50
2024-11-27 22:56:02.871 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:56:02.872 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 22:56:02.936 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 22:56:02.947 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 22:56:02.949 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 75.0501ms
2024-11-27 22:56:02.950 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:56:02.951 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 83.916ms
2024-11-27 22:56:08.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 22:56:08.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 5.0625ms
2024-11-27 22:56:08.710 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 22:56:08.711 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 22:56:08.711 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 22:56:08.713 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.2002ms
2024-11-27 22:56:08.716 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.9463ms
2024-11-27 22:56:08.721 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.0386ms
2024-11-27 22:56:08.774 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 22:56:08.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.9504ms
2024-11-27 22:56:11.614 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 50
2024-11-27 22:56:11.617 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:56:11.618 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 22:56:11.625 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 22:56:11.628 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 22:56:11.630 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 10.1993ms
2024-11-27 22:56:11.631 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:56:11.632 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 18.197ms
2024-11-27 22:56:16.288 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 22:56:16.291 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:56:16.292 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 22:56:16.297 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 22:56:16.307 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 22:56:16.316 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 22:56:16.317 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 22.8725ms
2024-11-27 22:56:16.318 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:56:16.319 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 31.1997ms
2024-11-27 22:56:28.876 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:56:28.879 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:56:28.881 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:56:28.883 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:56:28.884 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:56:28.885 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 9.8118ms
2024-11-27 22:57:18.980 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:57:18.983 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:57:18.984 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:57:18.985 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 4.9519ms
2024-11-27 22:57:23.583 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:57:23.586 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:57:23.588 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-11-27 22:57:23.589 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:57:23.590 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:57:23.591 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.5963ms
2024-11-27 22:57:58.332 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 22:57:58.450 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 22:57:58.544 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 22:57:58.551 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 22:57:58.554 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 22:57:58.632 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 22:57:58.678 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 22:57:58.716 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 22:57:58.717 +03:00 [INF] Hosting environment: Development
2024-11-27 22:57:58.718 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 22:57:58.848 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 22:57:58.957 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 109.0412ms
2024-11-27 22:57:58.998 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 22:57:58.999 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 22:57:58.999 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 22:57:59.003 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.6283ms
2024-11-27 22:57:59.005 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.4023ms
2024-11-27 22:57:59.035 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.8234ms
2024-11-27 22:57:59.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 22:57:59.146 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.215ms
2024-11-27 22:58:04.114 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 22:58:04.136 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:58:04.150 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 22:58:04.399 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 22:58:04.527 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 22:58:04.582 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 22:58:04.587 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 432.974ms
2024-11-27 22:58:04.589 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 22:58:04.593 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 479.1294ms
2024-11-27 22:58:17.489 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 22:58:17.497 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 22:58:17.507 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.MissingMethodException: Method not found: 'Byte[] Microsoft.IdentityModel.Tokens.Base64UrlEncoder.UnsafeDecode(System.ReadOnlyMemory`1<Char>)'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-11-27 22:58:17.515 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 22:58:17.516 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 26.9875ms
2024-11-27 23:15:00.015 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:15:00.122 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:15:00.209 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:15:00.214 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:15:00.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:15:00.280 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:15:00.325 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:15:00.363 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:15:00.364 +03:00 [INF] Hosting environment: Development
2024-11-27 23:15:00.365 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:15:00.700 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:15:00.804 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 105.2866ms
2024-11-27 23:15:00.830 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:15:00.830 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:15:00.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.7428ms
2024-11-27 23:15:00.837 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.0113ms
2024-11-27 23:15:00.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:15:00.870 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.5776ms
2024-11-27 23:15:00.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:15:00.946 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.0692ms
2024-11-27 23:15:06.158 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 23:15:06.771 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:15:06.784 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:15:07.024 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:15:07.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:15:07.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:15:07.263 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 474.3754ms
2024-11-27 23:15:07.264 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:15:07.269 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 1110.955ms
2024-11-27 23:15:21.049 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:15:21.055 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:15:21.058 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:15:21.059 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 10.9673ms
2024-11-27 23:15:30.867 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:15:30.872 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:15:30.883 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2024-11-27 23:15:30.890 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:15:30.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 24.2946ms
2024-11-27 23:15:38.677 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:15:38.680 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:15:38.681 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:15:38.723 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:15:38.731 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:15:38.751 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:15:38.752 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 69.3954ms
2024-11-27 23:15:38.753 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:15:38.755 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 78.1417ms
2024-11-27 23:15:52.954 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:15:52.958 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:15:52.979 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:15:52.980 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 25.6209ms
2024-11-27 23:16:13.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:16:13.529 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:16:13.531 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:16:13.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.3195ms
2024-11-27 23:16:25.378 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:16:25.382 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:16:25.383 +03:00 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2024-11-27 23:16:25.387 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:16:25.388 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 9.9094ms
2024-11-27 23:16:54.830 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:16:54.833 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:16:54.834 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:16:54.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 4.4947ms
2024-11-27 23:16:56.498 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:16:56.501 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:16:56.502 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:16:56.503 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 4.9271ms
2024-11-27 23:16:57.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:16:57.184 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:16:57.185 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:16:57.186 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.6052ms
2024-11-27 23:18:05.435 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:18:05.544 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:18:05.633 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:18:05.640 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:18:05.644 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:18:05.708 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:18:05.756 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:18:05.799 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:18:05.800 +03:00 [INF] Hosting environment: Development
2024-11-27 23:18:05.802 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:18:06.080 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:18:06.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.8019ms
2024-11-27 23:18:06.199 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:18:06.200 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:18:06.201 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:18:06.204 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.4902ms
2024-11-27 23:18:06.209 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.6012ms
2024-11-27 23:18:06.228 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.5359ms
2024-11-27 23:18:06.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:18:06.331 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.82ms
2024-11-27 23:18:11.156 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:18:11.178 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:18:11.191 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:18:11.434 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:18:11.566 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:18:11.627 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:18:11.632 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 436.8339ms
2024-11-27 23:18:11.634 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:18:11.639 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 482.5913ms
2024-11-27 23:18:20.985 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:18:20.992 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:18:21.023 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:18:21.024 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 39.4074ms
2024-11-27 23:18:25.479 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:18:25.483 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:18:25.486 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:18:25.487 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 8.4695ms
2024-11-27 23:18:26.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:18:26.170 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:18:26.171 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:18:26.172 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.4479ms
2024-11-27 23:18:42.964 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:18:42.966 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:18:42.968 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:18:42.969 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.3271ms
2024-11-27 23:18:43.833 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:18:43.836 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:18:43.838 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:18:43.839 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.5933ms
2024-11-27 23:18:44.412 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:18:44.414 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:18:44.416 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:18:44.417 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.4793ms
2024-11-27 23:20:12.580 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:20:12.696 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:20:12.787 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:20:12.792 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:20:12.795 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:20:12.863 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:20:12.931 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:20:12.977 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:20:12.978 +03:00 [INF] Hosting environment: Development
2024-11-27 23:20:12.980 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:20:13.019 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:20:13.060 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:20:13.072 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:20:13.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:20:13.289 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 96.6977ms
2024-11-27 23:20:13.316 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:20:13.318 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:20:13.320 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:20:13.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 5.3718ms
2024-11-27 23:20:13.327 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.7457ms
2024-11-27 23:20:13.336 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:20:13.348 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.7082ms
2024-11-27 23:20:13.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:20:13.414 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.0007ms
2024-11-27 23:20:13.505 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:20:13.558 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:20:13.563 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 486.9549ms
2024-11-27 23:20:13.566 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:20:13.570 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 552.7521ms
2024-11-27 23:20:21.332 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:20:21.339 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:20:21.368 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:20:21.370 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 37.6493ms
2024-11-27 23:21:36.263 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:21:36.380 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:21:36.464 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:21:36.470 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:21:36.473 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:21:36.538 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:21:36.594 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:21:36.631 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:21:36.632 +03:00 [INF] Hosting environment: Development
2024-11-27 23:21:36.633 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:21:36.800 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:21:36.897 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 97.8585ms
2024-11-27 23:21:36.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:21:36.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:21:36.919 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:21:36.922 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.1864ms
2024-11-27 23:21:36.925 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.3989ms
2024-11-27 23:21:36.947 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.3167ms
2024-11-27 23:21:36.987 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:21:36.995 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.4855ms
2024-11-27 23:21:40.025 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:21:40.049 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:21:40.064 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:21:40.319 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:21:40.450 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:21:40.501 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:21:40.506 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 437.2791ms
2024-11-27 23:21:40.507 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:21:40.512 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 487.0585ms
2024-11-27 23:21:46.388 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:21:46.395 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:21:46.427 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:21:46.429 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 40.8531ms
2024-11-27 23:21:54.311 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:21:54.423 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:21:54.507 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:21:54.513 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:21:54.516 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:21:54.577 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:21:54.625 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:21:54.669 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:21:54.671 +03:00 [INF] Hosting environment: Development
2024-11-27 23:21:54.672 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:21:55.128 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:21:55.227 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.9177ms
2024-11-27 23:21:55.247 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:21:55.247 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:21:55.247 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:21:55.251 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.9223ms
2024-11-27 23:21:55.253 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.6047ms
2024-11-27 23:21:55.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.7463ms
2024-11-27 23:21:55.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:21:55.332 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.0655ms
2024-11-27 23:21:58.873 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:21:58.893 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:21:58.906 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:21:59.184 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:21:59.323 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:21:59.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:21:59.382 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 472.1593ms
2024-11-27 23:21:59.384 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:21:59.388 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 515.8105ms
2024-11-27 23:22:05.132 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:22:05.139 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:22:05.167 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:22:05.169 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 37.1842ms
2024-11-27 23:25:10.567 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:25:10.571 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:25:10.574 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:25:10.575 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 7.8152ms
2024-11-27 23:25:25.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:25:25.357 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:25:25.361 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10206: Unable to validate audience. The 'audiences' parameter is empty.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-27 23:25:25.369 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:25:25.370 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 16.2888ms
2024-11-27 23:26:32.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:26:32.062 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:26:32.063 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:26:32.065 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.7447ms
2024-11-27 23:26:33.315 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:26:33.318 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:26:33.320 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:26:33.322 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 6.5749ms
2024-11-27 23:26:36.871 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:26:36.874 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:26:36.875 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:26:36.877 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.1775ms
2024-11-27 23:26:41.610 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:26:41.614 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:26:41.615 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:26:41.616 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 6.0322ms
2024-11-27 23:26:42.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:26:42.346 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:26:42.347 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:26:42.349 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 7.1672ms
2024-11-27 23:26:43.018 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:26:43.021 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:26:43.022 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:26:43.024 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 6.2806ms
2024-11-27 23:26:54.714 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:26:54.717 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:26:54.718 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:26:54.720 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 5.7729ms
2024-11-27 23:41:54.642 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:41:54.647 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:41:54.649 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:41:54.722 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:41:54.736 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 23:41:54.738 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 86.7208ms
2024-11-27 23:41:54.740 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:41:54.741 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 98.8637ms
2024-11-27 23:42:14.361 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:42:14.506 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:42:14.594 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:42:14.600 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:42:14.605 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:42:14.676 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:42:14.736 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:42:14.775 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:42:14.776 +03:00 [INF] Hosting environment: Development
2024-11-27 23:42:14.777 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:42:15.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:42:15.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 100.7093ms
2024-11-27 23:42:18.008 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:42:18.012 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:42:18.013 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 5.0628ms
2024-11-27 23:42:18.018 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 5.2315ms
2024-11-27 23:42:18.020 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:42:18.045 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.2433ms
2024-11-27 23:42:18.103 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:42:18.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.3351ms
2024-11-27 23:42:20.568 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:42:21.422 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:42:21.434 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:42:21.671 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:42:21.795 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:42:21.871 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:42:21.876 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 438.011ms
2024-11-27 23:42:21.877 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:42:21.882 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 1313.5089ms
2024-11-27 23:42:28.932 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:42:28.938 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:42:28.968 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:42:28.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 37.5557ms
2024-11-27 23:45:28.161 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:45:28.297 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:45:28.380 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:45:28.386 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:45:28.390 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:45:28.469 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:45:28.517 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:45:28.555 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:45:28.557 +03:00 [INF] Hosting environment: Development
2024-11-27 23:45:28.558 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:45:28.845 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:45:28.943 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.5198ms
2024-11-27 23:45:28.964 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:45:28.964 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:45:28.966 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:45:28.968 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.192ms
2024-11-27 23:45:28.974 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.9834ms
2024-11-27 23:45:28.992 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.1994ms
2024-11-27 23:45:29.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:45:29.065 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.4757ms
2024-11-27 23:46:28.760 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:46:28.888 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:46:28.974 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:46:28.980 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:46:28.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:46:29.046 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:46:29.092 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:46:29.135 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:46:29.136 +03:00 [INF] Hosting environment: Development
2024-11-27 23:46:29.137 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:46:29.316 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:46:29.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 100.2899ms
2024-11-27 23:46:29.435 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:46:29.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:46:29.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:46:29.439 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.1267ms
2024-11-27 23:46:29.442 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.2602ms
2024-11-27 23:46:29.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.6433ms
2024-11-27 23:46:29.514 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:46:29.523 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.8671ms
2024-11-27 23:54:35.770 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:54:35.877 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:54:35.969 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:54:35.976 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:54:35.979 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:54:36.043 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:54:36.090 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:54:36.126 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:54:36.127 +03:00 [INF] Hosting environment: Development
2024-11-27 23:54:36.128 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:54:36.234 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:54:36.332 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.2956ms
2024-11-27 23:54:36.350 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:54:36.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:54:36.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:54:36.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.8549ms
2024-11-27 23:54:36.358 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.5168ms
2024-11-27 23:54:36.380 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4105ms
2024-11-27 23:54:36.430 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:54:36.438 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.7271ms
2024-11-27 23:54:40.253 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:54:40.274 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:54:40.287 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:54:40.536 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:54:40.663 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:54:40.717 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:54:40.724 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 432.2064ms
2024-11-27 23:54:40.726 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:54:40.730 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 477.2569ms
2024-11-27 23:54:48.613 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:54:48.645 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:54:48.647 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:54:48.650 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:54:48.651 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.9057ms
2024-11-27 23:54:48.652 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:54:48.654 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 40.7316ms
2024-11-27 23:55:00.137 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:55:00.241 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:55:00.325 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:55:00.331 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:55:00.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:55:00.394 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:55:00.439 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:55:00.478 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:55:00.479 +03:00 [INF] Hosting environment: Development
2024-11-27 23:55:00.480 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:55:00.904 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:55:01.001 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.4776ms
2024-11-27 23:55:01.020 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:55:01.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:55:01.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:55:01.024 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.241ms
2024-11-27 23:55:01.029 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.9426ms
2024-11-27 23:55:01.047 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7489ms
2024-11-27 23:55:01.104 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:55:01.113 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1476ms
2024-11-27 23:55:03.241 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:55:03.265 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:55:03.280 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:55:03.525 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:55:03.653 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:55:03.721 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:55:03.726 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 441.3965ms
2024-11-27 23:55:03.728 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:55:03.733 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 492.1162ms
2024-11-27 23:55:09.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:55:09.861 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:09.864 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:55:09.867 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:55:09.869 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 2.7661ms
2024-11-27 23:55:09.871 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:09.873 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 46.3563ms
2024-11-27 23:55:25.071 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:55:25.178 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:55:25.267 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:55:25.273 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:55:25.277 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:55:25.340 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:55:25.387 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:55:25.424 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:55:25.426 +03:00 [INF] Hosting environment: Development
2024-11-27 23:55:25.427 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:55:25.708 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:55:25.806 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 99.5929ms
2024-11-27 23:55:25.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:55:25.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:55:25.828 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:55:25.831 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.9248ms
2024-11-27 23:55:25.839 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.398ms
2024-11-27 23:55:25.857 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.7567ms
2024-11-27 23:55:25.921 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:55:25.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.4509ms
2024-11-27 23:55:27.580 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:55:27.602 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:55:27.614 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:55:27.862 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:55:27.996 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:55:28.049 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:55:28.054 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 435.8361ms
2024-11-27 23:55:28.056 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:55:28.060 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 480.0273ms
2024-11-27 23:55:33.594 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:55:33.628 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:33.631 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:55:33.634 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:55:33.635 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 2.5552ms
2024-11-27 23:55:33.637 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:33.638 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 44.1582ms
2024-11-27 23:55:41.024 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:55:41.129 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:55:41.212 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:55:41.217 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:55:41.221 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:55:41.282 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:55:41.326 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:55:41.363 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:55:41.364 +03:00 [INF] Hosting environment: Development
2024-11-27 23:55:41.365 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:55:41.781 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:55:41.878 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 97.9119ms
2024-11-27 23:55:41.896 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:55:41.897 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:55:41.897 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:55:41.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.4982ms
2024-11-27 23:55:41.903 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.2511ms
2024-11-27 23:55:41.925 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.2307ms
2024-11-27 23:55:41.986 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:55:41.994 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.8792ms
2024-11-27 23:55:46.593 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:55:46.656 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:46.663 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:55:46.669 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:55:46.673 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 5.7479ms
2024-11-27 23:55:46.675 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:46.676 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 82.9112ms
2024-11-27 23:55:50.224 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:55:50.229 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:50.230 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:55:50.232 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:55:50.234 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.6778ms
2024-11-27 23:55:50.235 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:50.236 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 12.5983ms
2024-11-27 23:55:50.942 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:55:50.947 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:50.948 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:55:50.950 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:55:50.951 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.1458ms
2024-11-27 23:55:50.952 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:50.953 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 11.2091ms
2024-11-27 23:55:51.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:55:51.968 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:51.968 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:55:51.970 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:55:51.971 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.1494ms
2024-11-27 23:55:51.972 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:55:51.973 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 8.1162ms
2024-11-27 23:56:04.075 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:56:04.178 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:56:04.281 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:56:04.287 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:56:04.290 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:56:04.352 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:56:04.400 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:56:04.437 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:56:04.438 +03:00 [INF] Hosting environment: Development
2024-11-27 23:56:04.439 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:56:04.701 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:56:04.799 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 99.1638ms
2024-11-27 23:56:04.816 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:56:04.819 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:56:04.819 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:56:04.820 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.1261ms
2024-11-27 23:56:04.824 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 4.4361ms
2024-11-27 23:56:04.852 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.3012ms
2024-11-27 23:56:04.919 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:56:04.928 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.5547ms
2024-11-27 23:56:06.518 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:56:06.577 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:06.584 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:56:06.589 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:56:06.593 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 4.8676ms
2024-11-27 23:56:06.594 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:06.595 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 76.8874ms
2024-11-27 23:56:07.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:56:07.479 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:07.480 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:56:07.482 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:56:07.483 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.4144ms
2024-11-27 23:56:07.484 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:07.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 11.5969ms
2024-11-27 23:56:11.338 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:56:11.345 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 7.2442ms
2024-11-27 23:56:11.375 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:56:11.376 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:56:11.376 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:56:11.379 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.7542ms
2024-11-27 23:56:11.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 9.5783ms
2024-11-27 23:56:11.391 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.9318ms
2024-11-27 23:56:11.459 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:56:11.467 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.2223ms
2024-11-27 23:56:21.840 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:56:21.956 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:56:22.045 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:56:22.051 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:56:22.054 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:56:22.119 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:56:22.166 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:56:22.204 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:56:22.205 +03:00 [INF] Hosting environment: Development
2024-11-27 23:56:22.205 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:56:22.298 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:56:22.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.9811ms
2024-11-27 23:56:22.410 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:56:22.410 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:56:22.411 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:56:22.414 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 4.0524ms
2024-11-27 23:56:22.419 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 7.6159ms
2024-11-27 23:56:22.435 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7312ms
2024-11-27 23:56:22.497 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:56:22.505 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.0974ms
2024-11-27 23:56:27.197 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:56:27.261 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:27.269 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:56:27.274 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:56:27.278 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 4.9024ms
2024-11-27 23:56:27.279 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:27.281 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 84.085ms
2024-11-27 23:56:28.194 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:56:28.200 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:28.201 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:56:28.203 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:56:28.204 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.4312ms
2024-11-27 23:56:28.205 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:28.206 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 12.211ms
2024-11-27 23:56:28.883 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:56:28.888 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:28.890 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:56:28.891 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:56:28.893 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.371ms
2024-11-27 23:56:28.894 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:28.895 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 11.9634ms
2024-11-27 23:56:32.481 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:56:32.484 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:56:32.492 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:56:32.755 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:56:32.904 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:56:32.945 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:56:32.949 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 455.5892ms
2024-11-27 23:56:32.950 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:56:32.955 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 474.0021ms
2024-11-27 23:56:38.906 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:56:38.909 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:38.910 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:56:38.912 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:56:38.913 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.2718ms
2024-11-27 23:56:38.914 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:38.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 9.7702ms
2024-11-27 23:56:51.813 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:56:51.911 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:56:51.997 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:56:52.002 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:56:52.005 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:56:52.065 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:56:52.113 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:56:52.150 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:56:52.151 +03:00 [INF] Hosting environment: Development
2024-11-27 23:56:52.152 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:56:52.452 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:56:52.555 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 103.5733ms
2024-11-27 23:56:52.584 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:56:52.584 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:56:52.586 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:56:52.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 6.4573ms
2024-11-27 23:56:52.597 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 11.0698ms
2024-11-27 23:56:52.624 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1701ms
2024-11-27 23:56:52.690 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:56:52.701 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.109ms
2024-11-27 23:56:56.760 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:56:56.818 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:56.825 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:56:56.831 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:56:56.835 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 5.4097ms
2024-11-27 23:56:56.836 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:56:56.837 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 77.1771ms
2024-11-27 23:57:02.036 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:57:02.042 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:57:02.043 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:57:02.045 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:57:02.047 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 2.2526ms
2024-11-27 23:57:02.048 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:57:02.049 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 13.2503ms
2024-11-27 23:57:04.572 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:57:04.576 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:57:04.586 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:57:04.835 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:57:04.972 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:57:05.025 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:57:05.028 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 440.3332ms
2024-11-27 23:57:05.030 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:57:05.035 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 463.8057ms
2024-11-27 23:57:10.239 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:57:10.243 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:57:10.244 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:57:10.246 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:57:10.248 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.759ms
2024-11-27 23:57:10.249 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:57:10.251 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 11.9742ms
2024-11-27 23:57:27.477 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "TeledockDB" WITH (FORCE);
2024-11-27 23:57:27.580 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "TeledockDB";
2024-11-27 23:57:27.671 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Email" text NOT NULL,
    "Password" text NOT NULL,
    "Salt" text NOT NULL,
    "PhoneNumber" text,
    "Role" text NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2024-11-27 23:57:27.676 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Profiles" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "FirstName" text NOT NULL,
    "LastName" text NOT NULL,
    "Age" integer NOT NULL,
    "Gender" text NOT NULL,
    "About" text NOT NULL,
    "CurrentAvatar" text NOT NULL,
    "LastActivity" timestamp with time zone NOT NULL,
    "Status" integer NOT NULL,
    "UserId" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "LastModified" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Profiles" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Profiles_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2024-11-27 23:57:27.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Profiles_UserId" ON "Profiles" ("UserId");
2024-11-27 23:57:27.744 +03:00 [INF] User profile is available. Using 'C:\Users\homya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-27 23:57:27.790 +03:00 [INF] Now listening on: http://localhost:5298
2024-11-27 23:57:27.827 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-27 23:57:27.829 +03:00 [INF] Hosting environment: Development
2024-11-27 23:57:27.830 +03:00 [INF] Content root path: X:\YandexDisk\source\repos\Meetya\User.API\User.Web
2024-11-27 23:57:28.235 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.html - null null
2024-11-27 23:57:28.332 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.html - 200 null text/html;charset=utf-8 98.136ms
2024-11-27 23:57:28.355 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/index.js - null null
2024-11-27 23:57:28.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_vs/browserLink - null null
2024-11-27 23:57:28.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - null null
2024-11-27 23:57:28.359 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/index.js - 200 null application/javascript;charset=utf-8 3.7356ms
2024-11-27 23:57:28.364 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 8.0841ms
2024-11-27 23:57:28.382 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.1849ms
2024-11-27 23:57:28.437 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - null null
2024-11-27 23:57:28.447 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.787ms
2024-11-27 23:57:30.268 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:57:30.291 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:57:30.304 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:57:30.551 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:57:30.679 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:57:30.733 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:57:30.739 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 430.011ms
2024-11-27 23:57:30.740 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:57:30.745 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 476.6932ms
2024-11-27 23:57:34.042 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:57:34.047 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:57:34.048 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:57:34.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:57:34.103 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 23:57:34.105 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 54.8994ms
2024-11-27 23:57:34.106 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:57:34.107 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 64.5041ms
2024-11-27 23:57:47.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/User/login - application/json 48
2024-11-27 23:57:47.657 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-27 23:57:47.659 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-27 23:57:47.660 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/User/login - 405 0 null 7.4617ms
2024-11-27 23:57:51.716 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/login - application/json 48
2024-11-27 23:57:51.719 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 23:57:51.724 +03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Users.Application.Models.LoginDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:57:51.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:57:51.743 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:57:51.745 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Login (Users.Web) in 18.2675ms
2024-11-27 23:57:51.746 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Login (Users.Web)'
2024-11-27 23:57:51.747 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/login - 200 null application/json; charset=utf-8 31.2354ms
2024-11-27 23:57:56.776 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:57:56.809 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:57:56.811 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:57:56.813 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:57:56.814 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.6469ms
2024-11-27 23:57:56.816 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:57:56.817 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 41.0075ms
2024-11-27 23:58:51.411 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 23:58:51.414 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:58:51.415 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:58:51.420 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:58:51.429 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:58:51.433 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:58:51.435 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 17.5674ms
2024-11-27 23:58:51.436 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:58:51.437 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 25.1888ms
2024-11-27 23:58:53.444 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 47
2024-11-27 23:58:53.447 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:58:53.448 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:58:53.454 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:58:53.458 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-11-27 23:58:53.460 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 9.0685ms
2024-11-27 23:58:53.461 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:58:53.462 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 400 null text/plain; charset=utf-8 17.6102ms
2024-11-27 23:58:57.564 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5298/api/User/register - application/json 48
2024-11-27 23:58:57.567 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:58:57.569 +03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Users.Application.Models.RegDto) on controller Users.Web.Controllers.UserController (Users.Web).
2024-11-27 23:58:57.575 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Created", u."Email", u."LastModified", u."Password", u."PhoneNumber", u."Role", u."Salt"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 2
2024-11-27 23:58:57.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?', @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Created", "Email", "LastModified", "Password", "PhoneNumber", "Role", "Salt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-11-27 23:58:57.589 +03:00 [INF] Executing OkObjectResult, writing value of type 'Users.Application.Models.AfterAuthDto'.
2024-11-27 23:58:57.591 +03:00 [INF] Executed action Users.Web.Controllers.UserController.Register (Users.Web) in 19.3482ms
2024-11-27 23:58:57.592 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.UserController.Register (Users.Web)'
2024-11-27 23:58:57.594 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5298/api/User/register - 200 null application/json; charset=utf-8 29.803ms
2024-11-27 23:59:11.659 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:59:11.664 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-27 23:59:11.667 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-27 23:59:11.668 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 401 0 null 9.3037ms
2024-11-27 23:59:22.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5298/api/Test/protected - null null
2024-11-27 23:59:22.596 +03:00 [INF] Executing endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:59:22.597 +03:00 [INF] Route matched with {action = "Protected", controller = "Test"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Protected() on controller Users.Web.Controllers.TestController (Users.Web).
2024-11-27 23:59:22.599 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-11-27 23:59:22.600 +03:00 [INF] Executed action Users.Web.Controllers.TestController.Protected (Users.Web) in 1.6189ms
2024-11-27 23:59:22.602 +03:00 [INF] Executed endpoint 'Users.Web.Controllers.TestController.Protected (Users.Web)'
2024-11-27 23:59:22.603 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5298/api/Test/protected - 200 null text/plain; charset=utf-8 11.5086ms
